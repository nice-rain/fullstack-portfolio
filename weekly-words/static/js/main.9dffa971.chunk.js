(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{159:function(e,t,n){},161:function(e,t,n){},163:function(e,t,n){},165:function(e,t,n){},167:function(e,t,n){},169:function(e,t,n){},171:function(e,t,n){},173:function(e,t,n){},175:function(e,t,n){},177:function(e,t,n){},249:function(e,t,n){},251:function(e,t,n){},253:function(e,t,n){},255:function(e,t,n){},257:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(85),o=n.n(c),i=n(4),s=n(6),l=n(87),u=n(30),d=n(42),p=n(98).API_BASE_URL,m=function(e){return{type:"SHOW_HIDE_DECK_INFO",index:e}},E=function(e){return{type:"START_REVIEW",index:e}},f=function(e){return{type:"FLIP_CARD",cardIndex:e}},h=function(e){return{type:"HANDLE_NAV",navText:e}},g=function(){return{type:"RIGHT_ANSWER"}},k=function(){return{type:"WRONG_ANSWER"}},v=function(){return{type:"GO_REGISTER"}},w=function(){return{type:"GO_LOGIN"}},y=function(){return{type:"DISPLAY_HELP"}},b=function(){return{type:"HIDE_HELP"}},R=function(e){return function(t){return t({type:"LOGIN_REQUEST"}),fetch("".concat(p,"/auth/login"),{headers:{"content-type":"application/json"},body:JSON.stringify(e),method:"POST"}).then(function(e){return e.ok?e.json():Promise.reject(e)}).then(function(e){try{sessionStorage.setItem("authToken",e.authToken)}catch(n){}t({type:"LOGIN_SUCCESS"})}).catch(function(e){t(function(e){return{type:"LOGIN_ERROR",err:e}}(e))})}},O=function(e){return function(t){return t({type:"REGISTER_REQUEST"}),fetch("".concat(p,"/users"),{headers:{"content-type":"application/json"},body:JSON.stringify(e),method:"POST"}).then(function(e){return e.json()}).then(function(e){if(e.code)return Promise.reject(e);t({type:"REGISTER_SUCCESS"})}).catch(function(e){t(function(e){return{type:"REGISTER_ERROR",err:e}}(e))})}},T=function(){return function(e){return e({type:"GET_DECKS_REQUEST"}),fetch("".concat(p,"/decks/"),{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(sessionStorage.getItem("authToken"))},method:"GET"}).then(function(e){return e.ok?e.json():Promise.reject(e)}).then(function(t){var n=t.map(function(e){return Object(u.a)({},e,{displayInfo:!1})});e(function(e){return{type:"GET_DECKS_SUCCESS",decks:e}}(n))}).catch(function(t){e(function(e){return{type:"GET_DECKS_ERROR",err:e}}(t))})}},S=function(e){return function(t){t({type:"PUT_DECKS_REQUEST"});JSON.stringify(e);return fetch("".concat(p,"/decks/").concat(e.id),{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(sessionStorage.getItem("authToken"))},body:JSON.stringify(e),method:"PUT"}).then(function(e){return e.ok?e:Promise.reject(e)}).then(function(e){t({type:"PUT_DECKS_SUCCESS"})}).catch(function(e){t(function(e){return{type:"PUT_DECKS_ERROR",err:e}}(e))})}},N={decks:[],title:"Weekly Words",navText:null,loginError:null,deckError:!1,registerError:null,showNav:!1,loading:!1,reviewError:!1,showHelp:!0,page:"login",review:{deckIndex:0,shuffledCardIndices:[3,4,1,2,0],startTime:0,cardCounter:0,currentCard:0,endTime:0}};function C(e,t){for(var n,r,a=e.decks[t].generatedDeck.cards.length,c=Object(d.a)(Array(a).keys()),o=[],i=0;i<a;i++){var s=(n=0,r=c.length,Math.floor(Math.random()*(r-n))+n);o[c[s]]=i,c.splice(s,1)}return o}var j=n(260),_=Object(s.d)(Object(s.c)({weeklyWordsReducer:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,n=arguments.length>1?arguments[1]:void 0;if("SHOW_HIDE_DECK_INFO"===n.type){var r=t.decks.map(function(e,t){return t===n.index&&(e.displayInfo=!e.displayInfo),e});return Object.assign({},t,{decks:r})}if("START_REVIEW"===n.type)return Object.assign({},t,{page:"cardFront",title:"Front",navText:"End",showNav:!0,review:{shuffledCardIndices:C(t,n.index),startTime:Date.now(),deckIndex:n.index,cardCounter:0,currentCard:0,endTime:0}});if("FLIP_CARD"===n.type)return Object.assign({},t,{page:"cardBack",title:"Back",navText:"End",showNav:!0});if("RIGHT_ANSWER"===n.type){var a=[].concat(Object(d.a)(t.review.shuffledCardIndices.slice(0,t.review.currentCard)),Object(d.a)(t.review.shuffledCardIndices.slice(t.review.currentCard+1))),c={},o=t.review.currentCard;return o>=a.length&&(o=0),a.length<=0?(c.page="results",c.title="Results",c.navText="Done",c.showNav=!1):(c.page="cardFront",c.title="Front",c.navText="End",c.showNav=!0),Object.assign({},t,{page:c.page,title:c.title,navText:c.navText,showNav:c.showNav,review:Object(u.a)({},t.review,{cardCounter:t.review.cardCounter+1,currentCard:o,shuffledCardIndices:a,endTime:Date.now()})})}if("WRONG_ANSWER"===n.type){var i=t.review.currentCard+1;i>=t.review.shuffledCardIndices.length&&(i=0);var s={page:"cardFront",title:"Front",navText:"End",showNav:!0};return Object.assign({},t,{page:s.page,title:s.title,navText:s.navText,review:Object(u.a)({},t.review,{cardCounter:t.review.cardCounter+1,currentCard:i})})}if("RETURN_HOME"===n.type||"LOGIN_SUCCESS"===n.type)return Object.assign({},t,{page:"decks",title:"Decks",navText:"logout",showNav:!0,loading:!1});if("LOGIN_REQUEST"===n.type)return Object.assign({},t,{decks:null,loading:!0,loginError:null});if("LOGIN_ERROR"===n.type)return e=401===n.err.status?"The username or password is incorrect.":"Something went wrong. Please try again.",Object.assign({},t,{loading:!1,loginError:e});if("GET_DECKS_SUCCESS"===n.type)return Object.assign({},t,{decks:n.decks,loading:!1,deckError:!1});if("GET_DECKS_ERROR"===n.type)return Object.assign({},t,{loading:!1,deckError:!0});if("GET_DECKS_REQUEST"===n.type)return Object.assign({},t,{loading:!0,deckError:!1});if("PUT_DECKS_REQUEST"===n.type)return Object.assign({},t,{loading:!0,reviewError:!1});if("PUT_DECKS_SUCCESS"===n.type)return Object.assign({},t,{loading:!1,reviewError:!1});if("PUT_DECKS_ERROR"===n.type)return Object.assign({},t,{loading:!1,reviewError:!0});if("REGISTER_REQUEST"===n.type)return Object.assign({},t,{loading:!0,registerError:null});if("REGISTER_SUCCESS"===n.type)return Object.assign({},t,{loading:!1,page:"register-success",title:"Registration Success",registerError:null});if("REGISTER_ERROR"===n.type)return Object.assign({},t,{registerError:n.err.message,loading:!1});if("HANDLE_NAV"===n.type)switch(n.navText.toLowerCase()){case"logout":return Object.assign({},t,{page:"login",title:"Weekly Words",showNav:!1,review:N.review});case"end":return Object.assign({},t,{page:"decks",title:"Decks",navText:"logout",showNav:!0,review:N.review})}else{if("GO_REGISTER"===n.type)return Object.assign({},t,{page:"register",title:"Register",showNav:!1});if("GO_LOGIN"===n.type)return Object.assign({},t,{page:"login",title:"Weekly Words",showNav:!1});if("DISPLAY_HELP"===n.type)return Object.assign({},t,{showHelp:!0,showNav:!1});if("HIDE_HELP"===n.type)return Object.assign({},t,{showHelp:!1,showNav:!0})}return t},form:j.a}),Object(s.a)(l.a)),I=(n(159),n(17)),x=n(18),D=n(22),A=n(19),W=n(23);n(161),n(163);function P(e){return a.a.createElement("header",{className:"App-header",role:"banner"},a.a.createElement("h1",null,e.title),e.showNav&&e.navText&&a.a.createElement("button",{className:"nav-button",onClick:function(){e.dispatch(h(e.navText))}},e.navText))}P.defaultProps={title:"Decks",navText:"logout"};var L=Object(i.b)(function(e){return{title:e.weeklyWordsReducer.title,navText:e.weeklyWordsReducer.navText,showNav:e.weeklyWordsReducer.showNav}})(P);n(165),n(167);function H(e){return a.a.createElement("div",null,a.a.createElement("button",{className:"deck-link",onClick:function(){e.dispatch(m(e.index))}},e.deckName),e.displayInfo&&a.a.createElement("div",{className:"deck-stats"},a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("strong",null,"Review Total:")," ",e.deckReviewTotal),a.a.createElement("li",null,a.a.createElement("strong",null,"Latest Accuracy:")," ",e.deckLatestAccuracy,"%"),a.a.createElement("li",null,a.a.createElement("strong",null,"Latest Review Time:")," ",e.deckLatestTime,"s"),a.a.createElement("br",null),a.a.createElement("li",null,a.a.createElement("strong",null,"Highest Accuracy:")," ",e.deckHighestAccuracy,"%"),a.a.createElement("li",null,a.a.createElement("strong",null,"Fastest Review Time:")," ",e.deckFastestTime,"s")),a.a.createElement("button",{className:"deck-button-start",onClick:function(){e.dispatch(E(e.index))}},"Start Review")))}H.defaultProps={deckName:"Default Deck Name",deckReviewTotal:5,deckHighestAccuracy:85,deckLatestAccuracy:50,deckFastestTime:600,deckLatestTime:1e3,displayInfo:!1};var U=Object(i.b)()(H),G=(n(169),function(e){function t(){return Object(I.a)(this,t),Object(D.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(W.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(T())}},{key:"render",value:function(){var e,t=this;this.props.decks&&(e=this.props.decks.slice(0).reverse().map(function(e,n){return a.a.createElement(U,Object.assign({},e,{key:n,index:t.props.decks.length-1-n}))}));var n=a.a.createElement("div",{className:"deck-error"},a.a.createElement("p",null,"There was an error retrieving decks from the server"),a.a.createElement("button",{className:"deck-error-button",onClick:function(){return t.props.dispatch(T())}},a.a.createElement("i",{className:"fas fa-redo-alt"})));return a.a.createElement("section",null,this.props.deckError?n:e)}}]),t}(r.Component)),F=Object(i.b)(function(e){return{decks:e.weeklyWordsReducer.decks,deckError:e.weeklyWordsReducer.deckError}})(G);n(171);var K=Object(i.b)(function(e){return{review:e.weeklyWordsReducer.review,currentDeck:e.weeklyWordsReducer.decks[e.weeklyWordsReducer.review.deckIndex]}})(function(e){var t=e.currentDeck.generatedDeck.cards[e.review.shuffledCardIndices[e.review.currentCard]].word;return a.a.createElement("section",{className:"card-front"},a.a.createElement("h2",null,t),a.a.createElement("button",{onClick:function(){e.dispatch(f(e.cardIndex))},className:"cardfront-button-flip"},"Flip Over"))});n(173);function B(e){var t=e.currentDeck.generatedDeck.cards[e.review.shuffledCardIndices[e.review.currentCard]];return a.a.createElement("section",{className:"card-back"},a.a.createElement("h2",null,t.word),a.a.createElement("div",null,a.a.createElement("p",null,"(",a.a.createElement("strong",null,t.partOfSpeech),") ",t.definition),a.a.createElement("p",{className:"cardback-usage"},t.usage)),a.a.createElement("div",{className:"cardback-button-container"},a.a.createElement("button",{className:"cardback-button-right",onClick:function(){e.dispatch(g())}},a.a.createElement("i",{class:"fas fa-check"})),a.a.createElement("button",{className:"cardback-button-wrong",onClick:function(){e.dispatch(k())}},a.a.createElement("i",{class:"fas fa-times"}))))}B.defaultProps={word:"example",results:[{partOfSpeech:"noun",definition:"a thing characteristic of its kind or illustrating a general rule.",usage:"it's a good example of how European action can produce results"},{partOfSpeech:"noun",definition:"a representative form or pattern",usage:"I profited from his example"}]};var Q=Object(i.b)(function(e){return{review:e.weeklyWordsReducer.review,currentDeck:e.weeklyWordsReducer.decks[e.weeklyWordsReducer.review.deckIndex]}})(B),q=(n(175),function(e){function t(){var e,n;Object(I.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(D.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(a)))).deckStats={},n}return Object(W.a)(t,e),Object(x.a)(t,[{key:"clickedHome",value:function(){this.props.dispatch({type:"RETURN_HOME"})}},{key:"clickedAgain",value:function(){this.props.dispatch(E(this.props.deckIndex))}},{key:"calculateElapsedTime",value:function(){var e=((this.props.review.endTime-this.props.review.startTime)/1e3).toFixed(0),t="";if(e>=60){var n=(e/60).toFixed(0),r=(e%60).toFixed(0);t="".concat(n," minutes & ").concat(r," seconds")}else t="".concat(e," seconds");return t}},{key:"calculateAccuracy",value:function(){return 0===this.props.review.cardCounter?"Accuracy Invalid":(this.props.currentDeck.generatedDeck.cards.length/this.props.review.cardCounter*100).toFixed(2)}},{key:"componentDidMount",value:function(){var e=this.props.currentDeck.deckHighestAccuracy,t=this.calculateAccuracy(),n=t>e?t:e,r=this.props.currentDeck.deckFastestTime,a=((this.props.review.endTime-this.props.review.startTime)/1e3).toFixed(0),c=a<r||0===r?a:r;this.deckStats={id:this.props.currentDeck.id,deckReviewTotal:this.props.currentDeck.deckReviewTotal+1,deckHighestAccuracy:n,deckFastestTime:c,deckLatestTime:a,deckLatestAccuracy:t},this.props.dispatch(S(this.deckStats))}},{key:"render",value:function(){var e=this,t=a.a.createElement("div",{className:"results-error"},a.a.createElement("p",null,"There was an error sending your stats to the server."),a.a.createElement("button",{className:"results-error-button",onClick:function(){return e.props.dispatch(S(e.deckStats))}},a.a.createElement("i",{className:"fas fa-redo-alt"})));return a.a.createElement("section",{className:"results-container"},a.a.createElement("h2",null,"Review Stats"),a.a.createElement("p",null,a.a.createElement("strong",null,"Total Reviews:")," ",this.props.currentDeck.deckReviewTotal+1),a.a.createElement("p",null,a.a.createElement("strong",null,"Review Accuracy:")," ",this.calculateAccuracy()+"%"),a.a.createElement("p",null,a.a.createElement("strong",null,"Review Time:")," ",this.calculateElapsedTime()),this.props.reviewError&&t,a.a.createElement("div",{className:"results-button-container"},a.a.createElement("button",{className:"results-button-again",onClick:function(){return e.clickedAgain()}},"Again?"),a.a.createElement("button",{className:"results-button-home",onClick:function(){return e.clickedHome()}},"Home")))}}]),t}(r.Component)),J=Object(i.b)(function(e){return{deckIndex:e.weeklyWordsReducer.review.deckIndex,review:e.weeklyWordsReducer.review,currentDeck:e.weeklyWordsReducer.decks[e.weeklyWordsReducer.review.deckIndex],reviewError:e.weeklyWordsReducer.reviewError}})(q),M=(n(177),n(259)),V=n(258);var Y=Object(i.b)(function(e){return{loginError:e.weeklyWordsReducer.loginError}})(function(e){var t=a.a.createElement("span",null,a.a.createElement("p",null,e.loginError));return a.a.createElement("div",{className:"login-form"},e.loginError&&t,a.a.createElement("form",{onSubmit:e.handleSubmit(function(t){return function(t){e.dispatch(R(t))}(t)})},a.a.createElement("label",{htmlFor:"username"},"Username"),a.a.createElement(M.a,{name:"username",id:"username",type:"text",component:"input",required:!0}),a.a.createElement("label",{htmlFor:"password"},"Password"),a.a.createElement(M.a,{name:"password",id:"password",type:"password",component:"input",required:!0}),a.a.createElement("button",{type:"submit",className:"login-button"},"Login")),a.a.createElement("p",null,"Don't have an account? ",a.a.createElement("button",{className:"link-button",onClick:function(){e.dispatch(v())}},"Register")))}),z=Object(V.a)({form:"login"})(Y),$=n(89),X=n.n($);n(249);function Z(e){return a.a.createElement("div",{className:"loading"},a.a.createElement(X.a,{name:"circle",className:"loading-spinner",fadeIn:"quarter"}))}n(251);var ee=function(e,t){return e!==t.password?"Passwords do not match":void 0};var te=Object(i.b)(function(e){return{registerError:e.weeklyWordsReducer.registerError}})(function(e){var t=a.a.createElement("span",null,"Registration Error: ",e.registerError);return a.a.createElement("div",{className:"register-form"},e.registerError&&t,a.a.createElement("form",{onSubmit:e.handleSubmit(function(t){return function(t){e.dispatch(O(t))}(t)})},a.a.createElement("label",{htmlFor:"username"},"Username"),a.a.createElement(M.a,{name:"username",id:"username",type:"text",component:"input",required:!0}),a.a.createElement("label",{htmlFor:"name"},"Name"),a.a.createElement(M.a,{name:"name",id:"name",type:"text",component:"input",required:!0}),a.a.createElement("label",{htmlFor:"password"},"Password"),a.a.createElement(M.a,{name:"password",id:"password",type:"password",component:"input",required:!0}),a.a.createElement("label",{htmlFor:"con-password"},"Confirm Password"),a.a.createElement(M.a,{name:"con-password",id:"con-password",type:"password",component:function(e){var t=e.input,n=e.label,r=e.type,c=e.meta,o=c.touched,i=c.error,s=c.warning;return a.a.createElement("div",null,a.a.createElement("label",null,n),a.a.createElement("div",null,a.a.createElement("input",Object.assign({},t,{placeholder:n,type:r})),o&&(i&&a.a.createElement("span",null,i)||s&&a.a.createElement("span",null,s))))},validate:[ee],required:!0}),a.a.createElement("button",{type:"submit",className:"login-button"},"Register")),a.a.createElement("p",null,"Already have an account? ",a.a.createElement("button",{className:"link-button",onClick:function(){e.dispatch(w())}},"Login")))}),ne=Object(V.a)({form:"register"})(te),re={textAlign:"center"};var ae=Object(i.b)()(function(e){return a.a.createElement("div",{style:re},a.a.createElement("h2",null,"Registration was successful."),a.a.createElement("p",null,a.a.createElement("button",{className:"link-button",onClick:function(){e.dispatch(w())}},"Back to Login")))});n(253);var ce=Object(i.b)()(function(e){return a.a.createElement("section",{className:"info"},a.a.createElement("div",{className:"info-container"},a.a.createElement("h2",null,"Help"),a.a.createElement("p",null,a.a.createElement("strong",null,"Purpose: "),"Weekly Words is an app designed to help you learn 20 new words or phrases a week. The server will fetch and generate a deck of 20 cards a week to review. "),a.a.createElement("p",null,"Your review stats for each deck are stored to help you monitor your progress."),a.a.createElement("p",null,"Once you have logged in, you may select a deck from the list. The decks are ordered by the most recent being at the top of the deck list. It will randomly shuffle the deck and present you with the first flash card. Answer honestly when you flip the card over. Once you have gotten all 20 cards correct, your results will be displayed at the end."),a.a.createElement("p",null,"Sample Username: ",a.a.createElement("strong",null,"Thinkful")),a.a.createElement("p",null,"Sample Password: ",a.a.createElement("strong",null,"p123456789")),a.a.createElement("button",{onClick:function(){e.dispatch(b())}},"Hide Help")))});var oe=Object(i.b)(function(e){return{page:e.weeklyWordsReducer.page,loading:e.weeklyWordsReducer.loading,showHelp:e.weeklyWordsReducer.showHelp}})(function(e){return a.a.createElement("main",{role:"main"},e.loading&&a.a.createElement(Z,null),e.showHelp&&a.a.createElement(ce,null),"decks"===e.page&&a.a.createElement(F,null),"cardFront"===e.page&&a.a.createElement(K,null),"cardBack"===e.page&&a.a.createElement(Q,null),"results"===e.page&&a.a.createElement(J,null),"login"===e.page&&a.a.createElement(z,null),"register"===e.page&&a.a.createElement(ne,null),"register-success"===e.page&&a.a.createElement(ae,null))});n(255);function ie(e){return a.a.createElement("footer",{role:"contentinfo"},a.a.createElement("button",{className:"link-button",onClick:function(){e.dispatch(y())}},"Need Help?"))}ie.defaultProps={text:"Need Help?"};var se=Object(i.b)()(ie),le=function(e){function t(){return Object(I.a)(this,t),Object(D.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(W.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"Container"},a.a.createElement(L,null),a.a.createElement(oe,null),a.a.createElement(se,null))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(i.a,{store:_},a.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},90:function(e,t,n){e.exports=n(257)},98:function(e,t){e.exports={PORT:Object({NODE_ENV:"production",PUBLIC_URL:"/weekly-words"}).PORT||8080,API_BASE_URL:Object({NODE_ENV:"production",PUBLIC_URL:"/weekly-words"}).REACT_APP_API_BASE_URL||"https://weekly-words-api.herokuapp.com/ww/api"}}},[[90,2,1]]]);
//# sourceMappingURL=main.9dffa971.chunk.js.map